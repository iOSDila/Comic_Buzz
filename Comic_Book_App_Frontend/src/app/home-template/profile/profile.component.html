<div class="container clickable">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card card-profile">
        <div class="row card-parent">
          <div class="col-md-3 card-item">

            <!-- Profile Picture -->
            <div class="card-avatar">
              <a><img class="img" src="../../assets/images/marc.jpg"></a>
            </div>

            <!-- Navigation Bar -->
            <nav class="nav flex-column nav-bar" id="v-pills-tab" role="tablist" aria-orientation="vertical">
              <a class="nav-link active nav-item" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile"
                role="tab" aria-controls="v-pills-profile" aria-selected="true">
                <img src="../../assets/images/user2.png" class="d-inline-block align-top" alt="">
                <div class="nav-item-body">Profile</div>
                <img src="../../assets/images/arrow.png" class="d-inline-block align-top" alt="">
              </a>
              <a class="nav-link nav-item" id="v-pills-reset-tab" data-toggle="pill" href="#v-pills-reset" role="tab"
                aria-controls="v-pills-reset" aria-selected="false">
                <img src="../../assets/images/password1.png" class="d-inline-block align-top" alt="">
                <div class="nav-item-body">Reset Password</div>
                <img src="../../assets/images/arrow.png" class="d-inline-block align-top" alt="">
              </a>
            </nav>
          </div>

          <!-- Navigation Content -->
          <div class=" col-md-9 card-body">
            <div class="tab-content" id="v-pills-tabContent">

              <!-- Edit Profile -->
              <div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel"
                aria-labelledby="v-pills-profile-tab">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Edit Profile</h5>
                  </div>
                  <div class="modal-body">
                    <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Name</label>
                            <input type="text" formControlName="name" class="form-control"
                              [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                            <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                              <div *ngIf="f.name.errors.required">Name is required</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>User Name</label>
                            <input type="text" formControlName="username" class="form-control"
                              [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                            <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                              <div *ngIf="f.username.errors.required">User Name is required</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Phone Number</label>
                            <input type="text" formControlName="phone_num" class="form-control"
                              [ngClass]="{ 'is-invalid': submitted && f.phone_num.errors }" />
                            <div *ngIf="submitted && f.phone_num.errors" class="invalid-feedback">
                              <div *ngIf="f.phone_num.errors.required">Phone Number is required</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Birth Date</label>
                            <input type="date" formControlName="birth_date" class="form-control"
                              [ngClass]="{ 'is-invalid': submitted && f.birth_date.errors }" />
                            <div *ngIf="submitted && f.birth_date.errors" class="invalid-feedback">
                              <div *ngIf="f.birth_date.errors.required">Birth Date is required</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>User Type</label>
                            <input type="text" formControlName="role" class="form-control" />
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Email</label>
                            <input type="email" formControlName="email" class="form-control"
                              [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
                            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                              <div *ngIf="f.email.errors.required">Email is required</div>
                              <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-2 offset-md-9">
                          <div class="form-group">
                            <button type="submit" class="btn reset-btn">Update Profile</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!-- Reset Password -->
              <div class="tab-pane fade" id="v-pills-reset" role="tabpanel" aria-labelledby="v-pills-reset-tab">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Reset Password</h5>
                  </div>
                  <div class="modal-body">
                    <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()">
                      <!-- <div class="row offset-md-1">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label> Current Password</label>
                            <input type="password" formControlName="currentPassword" class="form-control"
                              [ngClass]="{ 'is-invalid': reset && r.currentPassword.errors }" />
                            <div *ngIf="reset && r.currentPassword.errors" class="invalid-feedback">
                              <div *ngIf="r.currentPassword.errors.required">Current Password is required</div>
                            </div>
                          </div>
                        </div>
                      </div> -->
                      <div class="row offset-md-1">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>New Password</label>
                            <input type="password" formControlName="newPassword" class="form-control"
                              [ngClass]="{ 'is-invalid': reset && r.newPassword.errors }" />
                            <div *ngIf="reset && r.newPassword.errors" class="invalid-feedback">
                              <div *ngIf="r.newPassword.errors.required">New Password is required</div>
                              <div *ngIf="r.newPassword.errors.minlength">Password must be at least 6 characters</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row offset-md-1">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Confirm Password</label>
                            <input type="password" formControlName="confirmPassword" class="form-control"
                              [ngClass]="{ 'is-invalid': reset && r.confirmPassword.errors }" />
                            <div *ngIf="reset && r.confirmPassword.errors" class="invalid-feedback">
                              <div *ngIf="r.confirmPassword.errors.required">Confirm Password is required</div>
                            </div>
                            <!-- new and confirm password not matching error -->
                            <div *ngIf="isError" class="error">
                              <div>New password and confirm password doesn't match.</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-3 offset-md-9">
                          <div class="form-group">
                            <button type="submit" class="btn reset-btn">Reset</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <ng-template #dialogSuccess>
    <div mat-dialog-title class="dialog-title">
      {{status}}
    </div>
    <div mat-dialog-content class="dialog-content">
      <p>{{message}}</p>
    </div>
    <div mat-dialog-actions class="dialog-action">
      <button mat-button class="reset-btn" (click)="closeDialog()" cdkFocusInitial>OK</button>
    </div>
  </ng-template>